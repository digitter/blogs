# Ruby配列 行から列を取得

## 目次
<!-- TOC -->

- [Ruby配列 行から列を取得](#ruby配列-行から列を取得)
  - [目次](#目次)
- [行列データの例](#行列データの例)
  - [行ごとにデータをまとめる](#行ごとにデータをまとめる)
  - [列のデータを取得](#列のデータを取得)
    - [気合いで列のデータを取得](#気合いで列のデータを取得)
    - [transposeを使う](#transposeを使う)

<!-- /TOC -->

# 行列データの例

||||
|--|--|--|
|0|1|2|
|3|4|5|
|6|7|8|

行をrow、列をcolumn として表現してみます。

## 行ごとにデータをまとめる

9つの要素持つ配列を3ごとの要素に区切って配列を作ります。

各配列を一つの配列に保持させます。

```ruby
array = [0, 1, 2, 3, 4, 5, 6, 7, 8]

# その１
rows = []
array.each_slice(3) {|row| rows << row}
p rows
# [[0, 1, 2], [3, 4, 5], [6, 7, 8]]

# その２
rows = array.each_slice(3).select {|row| row}
p rows
# [[0, 1, 2], [3, 4, 5], [6, 7, 8]]
```

## 列のデータを取得

### 気合いで列のデータを取得

```ruby
# 行のデータ
rows = [[0, 1, 2], [3, 4, 5], [6, 7, 8]]

# 列のデータ
columns = []
rows.size.times {columns << []}

rows.each do |arr|
  arr.each_with_index {|e, i| columns[i] << e}
end

p columns
# [[0, 3, 6], [1, 4, 7], [2, 5, 8]]
```

### transposeを使う

```ruby
# 行のデータ
rows = [[0, 1, 2], [3, 4, 5], [6, 7, 8]]

# 列のデータ
columns = rows.transpose
p columns
# [[0, 3, 6], [1, 4, 7], [2, 5, 8]]
```
