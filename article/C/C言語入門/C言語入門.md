>プログラミング完全初学者向けというより、
>他のプログラミング言語を何かしら習得している事を前提に進めていきます。m(._.)m

---

<!-- TOC -->

- [C言語について](#c言語について)
- [開発環境](#開発環境)
- [とりあえずコードを実行](#とりあえずコードを実行)
  - [printfの基本](#printfの基本)
- [return 0; について](#return-0-について)
  - [return 1; にすると？](#return-1-にすると)
- [フォーマット指定子 (一例)](#フォーマット指定子-一例)
- [データ型 (一例)](#データ型-一例)
  - [補足](#補足)
- [変数](#変数)
- [配列(数値編)](#配列数値編)
  - [初期化(数値)](#初期化数値)
- [配列(文字列編)](#配列文字列編)
- [デバッグツールで '\0' を確認してみた](#デバッグツールで-\0-を確認してみた)
- [算術演算](#算術演算)
  - [算術演算子](#算術演算子)
  - [優先順位](#優先順位)
  - [型変換](#型変換)
  - [自己代入演算子](#自己代入演算子)
  - [++(インクリメント)、--(デクリメント) 演算子](#インクリメント--デクリメント-演算子)
  - [接頭語、接尾辞の++(インクリメント)、--(デクリメント) 違い](#接頭語接尾辞のインクリメント--デクリメント-違い)
- [printfのオプション(一部抜粋)](#printfのオプション一部抜粋)
  - [数値の出力幅を指定 width](#数値の出力幅を指定-width)
  - [精度の指定 precesion](#精度の指定-precesion)

<!-- /TOC -->

---

## C言語について

- C言語は様々な目的で利用するために作られた、1972年に開発されたプログラミング言語。
- 様々な言語のコンパイラとしてC言語が利用されていたりする。
- IoTなどの普及によりC言語やC++言語が再び注目を浴びている。
- 家電製品や自動車にも利用されている。

ほうほう、これは学んでおきたい 🦉

---

## 開発環境

以下の環境で開発を進めてみました。

- Mac
- [C言語 VScodeで環境構築](/blog/vscode-c/)

---

## とりあえずコードを実行

```c
// printf関数を利用するために最初に呼び出しておく header ファイル。
// 他にも色々なライブラリが標準で備わっている。
#include <stdio.h>

// main関数はプログラムのエントリポイント
// この中に処理を書いていく。
int main()
{
  printf("こんにちは。私の名前は%sです。 \n年齢は%d歳", "Cゲンガー", 23);
  return 0; // プログラム正常終了の合図
}

```

```
こんにちは。私の名前はCゲンガーです。
年齢は23歳です。
```
---

### printfの基本

- 第一引数が出力される文字列
- 第二引数以降は何かしらの値

第一引数に記載されたformat specifier(フォーマット指定子)を元に第二引数以降の値が挿入される。

上記のコードでは
- 文字列型(string)である `%s` に `Cゲンガー` が割り当てられ、
- 10進数の実数型(decimal)である `%d` に `23` が割り当てられるっと。

---

## return 0; について
これは、プログラムが正常に終了したことを表すものです。

以下のような2つのコードがあるとして、コンパイル後にターミナルでコマンドを打ってみました。

```c
#include <stdio.h>
int main() {
  printf("Hello World ! ")
  return 0;
}
```

```
% ls
hello.c hello

% ./hello && echo "Hi !"
```

出力結果
```
Hello World ! Hi!
```

---

### return 1; にすると？

```c
#include <stdio.h>
int main() {
  printf("Hello World ! ")
  return 1;
}
```

```
% ls
hello.c hello

% ./hello && echo "Hi !"
```

出力結果
```
Hello World !
```

---

&& は `コマンド1 && コマンド2` のような時、
コマンド1が成功した時に、コマンド２を実行する。

- return 0; は正常終了を意味する。
- reutrn 0以外で異常終了となる。

なので、プログラムが正常に終了したことを表すためには基本的には `return 0;` を最後に書く必要があります。

が、C99という1999年に策定されたC言語の規格以降では `return 0;` の記述が無くても動作します。

---

## フォーマット指定子 (一例)

|書式|説明|
|---|---|
|%d|整数値10進数|
|%f|実数値10進数(単精度実数)|
|%lf|実数値10進数 (倍精度実数)|
|%c|文字。ASCII(アスキー)コードで表示された文字を表示する。'' で囲う。|
|%s|文字列を表示する。ダブルクォーテーションを表示する。|

- %f, %lf について
それぞれ32bit, 64bitでデータを扱う。

---

## データ型 (一例)

|データ型|意味|説明|サイズ|
|---|---|---|---|
|char|整数型（文字列）|1byteの符号付整数。ASCIIコードという文字コードに使用|8bit|
|int|整数型|2または4byteの整j数(コンパイラに依存する)|16bit|
|float|浮動小数点型|4byteの単精度浮動小数点実数|32bit|
|double|浮動小数点型|8byteの倍精度浮動小数点実数|64bit|


### 補足

* 符号付整数型
>0と正負の数を表現できる整数型。
>先頭が値の正負を表す符号ビットがある。（0が正/1が負）

* 単精度浮動小数点実数
>有効桁数の少ない小数点を格納できる型

* 倍精度不動小数点実数
>有効桁数の多い小数点を格納できる型

---

## 変数

変数宣言する際には型を指定して変数は最初に全て定義しておかないといけない。
(printfなどの関数実行後に変数定義はしない方が良い)

```c
#include <stdio.h>

int main()
{
  int a = 10;
  int b;
  b = 5; // 初期化は後からでもOK

  add = a + b;
  sub = a - b;
  printf("%d + %d = %d\n", a, b, add);
  printf("%d - %d = %d\n", a, b, sub);
}
```

```
10 + 5 = 15
10 - 5 = 5
```

---

## 配列(数値編)

```c
#include <stdio.h>

int main() {
  int d[5]; // size5の配列変数の宣言(配列の5番目という意味ではない！)
  int i;

  d[0] = 1;
  d[1] = 2;
  d[2] = 3;

  for (i = 0; i < 3; i++) {
    printf("%d ", d[i]);
  }
  printf("\n");
}
```

```
1 2 3
```

---

### 初期化(数値)

```c
#include <stdio.h>

int main() {
  int n[] = { 1, 2, 3, 4, 5 };
  int i;

  for(i = 0; i < 5; i++) {
    printf("n[%d] は %d\n", i, n[i]);
  }
}
```

```
n[0] は 1
n[1] は 2
n[2] は 3
n[3] は 4
n[4] は 5
```

---

## 配列(文字列編)

コードを実行する前に頭に入れておきたいこと。
>C言語では文字列とは文字の配列のこと !!!

どういうことか見ていきます🤔

```c
#include <stdio.h>

int main() {
  char string1[4] = { 'a', 'b', 'c', '\0' }; // どこで終わりにするかを '\0' で表す必要がある。
  char string2[] = "Hello World!"; // 12個目の文字 '\0' が実は入っている.

  printf("string1 = %s\n", string1);
  printf("string2 = %s\n", string2);
}
```

```
string1 = abc
string2 = Hello World!
```

文字の配列が文字列になっている🤔

---

```c
#include <stdio.h>

int main() {
  char string3[6]; // 最大6文字まで入る文字列(= 最後に'\0'が入るので5文字指定できる)
  int i;

  printf("6文字以内で文字を入力してください。\n");
  scanf("%s", string3); // scanfは標準入力を受け付けます。
  printf("s3 = %s\n", string3);
}
```

scanf実行時にターミナルで `abcde` と入力してみる。
```
5文字以内で文字を入力してください。
abcde
s3 = abcde
```

---

## デバッグツールで '\0' を確認してみた

変数が初期化された後の行でbreak pointを指定。(赤丸のやつ)

実際にあった。

![配列の確認](https://raw.githubusercontent.com/digitter/blogs/master/article/C/C%E8%A8%80%E8%AA%9E%E5%85%A5%E9%96%80/images/check_array.png)

文字列は文字の配列であり、その最後には `\0` というものが格納されているというのがポイントでした ! 🤯

---

## 算術演算

### 算術演算子

- addition
- subtraction
- multiplication
- division
- modulus division

```c
#include <stdio.h>

int main() {
  int a = 11;
  int b = 5;
  int c;

  c = a + b;
  printf("addtion: %d \n", c);

  c = a - b;
  printf("subtraction: %d \n", c);

  c = a * b;
  printf("multiplication: %d \n", c);

  c = a / b;
  printf("division: %d \n", c);

  c = a % b;
  printf("modulus division: %d \n", c);

  return 0;
}
```

```
❯ ./arithmetic_operator
addtion: 16
subtraction: 6
multiplication: 55
division: 2
modulus division: 1
```

### 優先順位

演算子の優先順位に基づいて数値式を評価していきます。
+と-は、*、/、%と同様に、同じ優先順位です。
式の左から右の順に *, /, % が実行され、次に + と - が同じく左から右の順に評価されていきます。
演算の順序を変えるには、どの演算を先に実行するかを括弧（ ）で囲みます。
たとえば、「2 + 3 * 2」の結果は 8、「(2 + 3) * 2」の結果は「10」です。
この辺は説明しなくても算数と一緒ですし、他のプログラミング言語触ってたら知ってるはずですね〜。

ただ実際に以下の様な場合は結合法則が不規則になる可能性があります。(計算結果は同じ)

```c
a * b * c

// 以下のどちらで評価されるか分かりませんが、計算結果は同じです。
// (a * b) * c
// a * (b * c)
```

### 型変換

int型とfloat型で計算した時には、計算結果はfloat型に変換されます。

```c
#include <stdio.h>

int main() {
  float tax_rate = 1.1;
  int price = 100;
  float billing_price;

  billing_price = tax_rate * price;

  printf("Billing Price: %f", billing_price);

  return 0;
}
```

```
❯ ./arithmetic_operator
Billing Price: 110.000000
```

強制的に型変換するには `type cast` します。

```c
#include <stdio.h>

int main() {
  int a = 10;
  int b = 3;
  float average;

  average = (float) 10 / 3;
  printf("%f", average);
  // 3.333333

  return 0;
}
```

### 自己代入演算子

`int x = 3;` に対しての各処理

```
- x += 1;      // x の値は 4
- x -= 1;      // x の値は 2
- x *= 2;      // x の値は 6
- x /= 2;      // x の値は 1
- x %= 2;      // x の値は 1
- x += 3 * 2;  // x の値は 9
```

### ++(インクリメント)、--(デクリメント) 演算子

`int x = 3;` に対しての各処理

```
- ++x(x++);         // x の値は 4
- --x(x--);         // x の値は 2
```

### 接頭語、接尾辞の++(インクリメント)、--(デクリメント) 違い

increment, decrementを接頭に付けるか、接尾に付けるかで実は意味が変わってきます。

- `++x`

>xに1プラスして、xの値を返す。

- `x++`

>xの値を返して、xに1プラスする。

- `--x`

>xに1マイナスして、xの値を返す。

- `x--`

>xの値を返して、xに1マイナスする。

例)

```c
#include <stdio.h>
int main() {
   int a = 1, b = 3;

   // 5が表示されて、
   // その後に、aが2になる。
   printf("%d\n", a++);

   // bが4になって、
   // その後、bが表示される。
   printf("%d\n", ++b);

   return 0;
}
```

左から右に実行されているのに注意しなきゃいけないですね🤯

ちなみに、increment, decrementの演算子がある他の言語でもこの様な挙動をします。(JavaとかJavaScriptとか)
そもそも、increment, decrementがないプログラミング言語もあります。(Rubyとか)

---

## printfのオプション(一部抜粋)

『printf 書式 値』で出力することができました。
> printf("%d", 100)

printf関数にはオプションがあります。

### 数値の出力幅を指定 width

数値の出力幅を5に指定しています。
数値の桁数が指定した幅数より小さい時には左に空欄が挿入されます。

例)

```c
printf("%5d", 1)
//1

printf("%5d", 1)
//    1
// ↑ 4つ分spaceが入っている。

printf("%5d", 3)
//    3
// ↑ 4つ分spaceが入っている。

// ↓ 指定幅以上の数値の場合はspaceは無視される。
printf("%5d", 5)
//5
printf("%2d", 7)
//7

```

### 精度の指定 precesion

浮動小数点数の小数点以下の桁数を設定します。(省略時は小数点以下６桁)

桁数を表すには `.10進数整数` を指定します。

例)

```c
// %.2 なので小数点以下の桁数は2 = 1.11
// 1.11 で 4つ分の幅
// 10 - 4 で あと 6つspace幅が足されるということになります。
printf("%10.2f\n", 1.1111111111);
//      1.11
// ↑ 6つ分spaceが入っている。

// %.2 なので小数点以下の桁数は2 = 1.11
// 1.11 で 4つ分の幅
// 既に指定幅 3 以上あるのでspaceは無視。
printf("%3.2f\n", 1.1111111111);
//1.11
```

printf関数のオプションは他にもいくつかありますので興味があれば調べてみましょう〜

ということで一応まとめてみました。

[printfのオプションまとめ WIP 準備中...]()

